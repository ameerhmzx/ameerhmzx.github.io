---
import { CollectionEntry } from "astro:content";
import { clsx } from "clsx";
import DateChip from "../DateChip.astro";

interface Props {
  experience: CollectionEntry<"work" | "education">;
  isLast?: boolean;
  isFirst?: boolean;
}

const { experience, isLast, isFirst } = Astro.props;
const { startDate, endDate } = experience.data;
---

<>
  <div class="sm:ml-auto sm:mt-6 sm:mb-6">
    <DateChip className="slide-up" startDate={startDate} endDate={endDate} />
  </div>
  <div class={
    clsx(
      "hidden sm:block relative w-1 bg-gray-100 dark:bg-gray-800",
      isFirst && "rounded-t-full",
      isLast && "rounded-b-full",
    )
  }>
    <span class="slide-up absolute shadow-md bg-gray-500 top-7 -right-1.5 w-4 h-4 rounded-full" />
  </div>
  <slot />
</>
